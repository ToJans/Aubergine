
Context      Be.Corebvba.Aubergine.Examples.Accounts.Contexts.AccountContext
ContextDLL   Be.Corebvba.Aubergine.Examples.DLL


Story Transfer money between accounts 

	As a user
	I want to transfer money between accounts
	So that I can have real use for my money

	Given AccountA has 3m
	Given AccountB has 2m

	Scenario Transfer AAm between 2 accounts 

		Given the current user is authenticated for AccountA
		When transfering AAm from AccountA to AccountB
		Then it should have BBm on AccountA
		Then it should have CCm on AccountB
		
		Example for the transfer

			+----+----+----+
			| AA | BB | CC |
			+----+----+----+
			|  1 |  2 |  3 |
			|  2 |  1 |  4 |
			|  3 |  0 |  5 |
			+----+----+----+

	Scenario Transfer too much 
	
		Given the current user is authenticated for AccountA
		When transfering 4m from AccountA to AccountB
		Then it should have 3m on AccountA
		Then it should have 2m on AccountB
		Then it should fail with error

	Scenario Not authorized for transfer
	
		When transfering 1m from AccountB to AccountA
		Then it should have 3m on AccountA
		Then it should have 2m on AccountB
		Then it should fail with error
